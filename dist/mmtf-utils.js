!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.MmtfUtils=e.MmtfUtils||{})}(this,function(e){"use strict";function t(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function n(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function r(e){return new Int8Array(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){var n,r,f,a=(e.byteOffset,e.byteLength);for(t||(t=new Int16Array(a/2)),n=0,r=0,f=a/2;f>n;++n,r+=2)t[n]=e[r]<<8^e[r+1]<<0;return t}function a(e,t){var n=e.length;t||(t=new Uint8Array(2*n));for(var r=new DataView(t.buffer,t.byteOffset,t.byteLength),f=0;n>f;++f)r.setInt16(2*f,e[f]);return t.buffer}function o(e,t){var n,r,f,a=(e.byteOffset,e.byteLength);for(t||(t=new Int32Array(a/4)),n=0,r=0,f=a/4;f>n;++n,r+=4)t[n]=e[r]<<24^e[r+1]<<16^e[r+2]<<8^e[r+3]<<0;return t}function u(e){return new Int32Array(e.buffer,e.byteOffset,e.byteLength/4)}function i(e,t){var n=e.length;t||(t=new Uint8Array(4*n));for(var r=new DataView(t.buffer,t.byteOffset,t.byteLength),f=0;n>f;++f)r.setInt32(4*f,e[f]);return t.buffer}function l(e,t){var n=e.length;t||(t=new Uint8Array(4*n));for(var r=new DataView(t.buffer,t.byteOffset,t.byteLength),f=0;n>f;++f)r.setFloat32(4*f,e[f]);return t.buffer}function g(e,t,n){var r=e.length,f=1/t;n||(n=new Float32Array(r));for(var a=0;r>a;++a)n[a]=e[a]*f;return n}function c(e,t,n,r){n||(n=4);var f=e.length,a=new ArrayBuffer(f*n),o=new DataView(a),u="setInt32";1===n?u="setInt8":2===n&&(u="setInt16");for(var i=0;f>i;++i)o[u](n*i,Math.round(e[i]*t),r);return a}function y(e,t){var n,r;if(!t){var f=0;for(n=0,r=e.length;r>n;n+=2)f+=e[n+1];t=new e.constructor(f)}var a=0;for(n=0,r=e.length;r>n;n+=2)for(var o=e[n],u=e[n+1],i=0;u>i;++i)t[a]=o,a+=1;return t}function h(e){if(0===e.length)return new ArrayBuffer;var t,n,r=2;for(t=1,n=e.length;n>t;++t)e[t-1]!==e[t]&&(r+=2);var f=new ArrayBuffer(4*r),a=new DataView(f),o=0,u=1;for(t=1,n=e.length;n>t;++t)e[t-1]!==e[t]?(a.setInt32(o,e[t-1]),a.setInt32(o+4,u),u=1,o+=8):u+=1;return a.setInt32(o,e[e.length-1]),a.setInt32(o+4,u),f}function w(e){for(var t=1,n=e.length;n>t;++t)e[t]+=e[t-1];return e}function s(e,t){t||(t=new e.constructor(e.length)),t[0]=e[0];for(var n=1,r=t.length;r>n;++n)t[n]=e[n]-e[n-1];return t}function v(e,t,n){var r=e.length/2+t.length;n||(n=new Int32Array(r));for(var f=0,a=0,o=0,u=e.length;u>o;o+=2){var i=e[o],l=e[o+1];n[f]=i,0!==o&&(n[f]+=n[f-1]),f+=1;for(var g=0;l>g;++g)n[f]=n[f-1]+t[a],f+=1,a+=1}return n}function b(e,t){var n,r,f=t?127:32767,o=t?Int8Array:Int16Array,u=s(e),l=0,g=0;for(n=0,r=u.length;r>n;++n){var c=u[n];c>f||-f>c?l+=2:g+=1}var y=new Int32Array(l),h=new o(g),w=0,v=0;for(n=0,r=u.length;r>n;++n){var c=u[n];c>f||-f>c?(y[w]=c,y[w+1]=0,w+=2):(h[v]=c,v+=1,y[w-1]+=1)}return[i(y,y),t?h:a(h,h)]}function I(e,t,n,r){var a=e.length/4/2+t.length/2;r||(r=new Float32Array(a));var i=u(r),l=v(o(e),f(t),i);return g(l,n,r)}function d(e,t,n){var r=new Int32Array(c(e,t,4,!0));return b(r,n)}function A(e,t,n){var r=n?u(n):void 0,f=y(o(e),r);return g(f,t,n)}function L(e,t,n){return n||(n=new Int32Array(e.length)),n=new Int32Array(c(e,t,4,!0)),h(n)}e.getDataView=t,e.getUint8View=n,e.getInt8View=r,e.getInt16=f,e.makeInt16Buffer=a,e.getInt32=o,e.getInt32View=u,e.makeInt32Buffer=i,e.makeFloat32Buffer=l,e.decodeIntegerToFloat=g,e.encodeFloatToInteger=c,e.decodeRunLength=y,e.encodeRunLength=h,e.decodeDelta=w,e.encodeDelta=s,e.decodeSplitListDelta=v,e.encodeSplitListDelta=b,e.decodeFloatSplitListDelta=I,e.encodeFloatSplitListDelta=d,e.decodeFloatRunLength=A,e.encodeFloatRunLength=L});