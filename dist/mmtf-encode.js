!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.encodeMmtf=e()}(this,function(){"use strict";function t(t,e){var n=t.length;e||(e=new t.constructor(n)),e[0]=t[0];for(var i=1;n>i;++i)e[i]=t[i]-t[i-1];return e}function e(e){var i={};n.forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),e.bondAtomList&&(i.bondAtomList=new Uint8Array(makeInt32Buffer(e.bondAtomList))),e.bondOrderList&&(i.bondOrderList=new Uint8Array(e.bondOrderList.buffer));var r=encodeFloatSplitListDelta(e.xCoordList,1e3);i.xCoordBig=new Uint8Array(r[0]),i.xCoordSmall=new Uint8Array(r[1]);var o=encodeFloatSplitListDelta(e.yCoordList,1e3);i.yCoordBig=new Uint8Array(o[0]),i.yCoordSmall=new Uint8Array(o[1]);var s=encodeFloatSplitListDelta(e.zCoordList,1e3);if(i.zCoordBig=new Uint8Array(s[0]),i.zCoordSmall=new Uint8Array(s[1]),e.bFactorList){var a=encodeFloatSplitListDelta(e.bFactorList,100);i.bFactorBig=new Uint8Array(a[0]),i.bFactorSmall=new Uint8Array(a[1])}return e.atomIdList&&(i.atomIdList=new Uint8Array(encodeRunLength(t(e.atomIdList)))),e.altLocList&&(i.altLocList=new Uint8Array(encodeRunLength(e.altLocList))),e.occupancyList&&(i.occupancyList=new Uint8Array(encodeRunLength(new Int32Array(encodeFloatToInteger(e.occupancyList,100,4,!0))))),i.groupIdList=new Uint8Array(encodeRunLength(t(e.groupIdList))),i.groupTypeList=new Uint8Array(makeInt32Buffer(e.groupTypeList)),e.secStructList&&(i.secStructList=new Uint8Array(e.secStructList.buffer)),e.insCodeList&&(i.insCodeList=new Uint8Array(encodeRunLength(e.insCodeList))),e.sequenceIndexList&&(i.sequenceIndexList=new Uint8Array(encodeRunLength(t(e.sequenceIndexList)))),i.chainIdList=new Uint8Array(e.chainIdList.buffer),e.chainNameList&&(i.chainNameList=new Uint8Array(e.chainNameList.buffer)),i}var n=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel","xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"];return e});